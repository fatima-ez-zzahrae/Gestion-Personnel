<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <!-- Header avec bouton retour -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:layout_marginBottom="16dp">

            <com.google.android.material.button.MaterialButton
                android:id="@+id/btnBack"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="← Retour"
                style="@style/Widget.Material3.Button.TextButton"
                android:textColor="?attr/colorPrimary"/>

            <TextView
                android:id="@+id/tvTitle"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Ajouter un Personnel"
                android:textSize="24sp"
                android:textStyle="bold"
                android:gravity="center"/>
        </LinearLayout>

        <!-- Section Photo -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:cardElevation="2dp"
            app:cardCornerRadius="8dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp"
                android:gravity="center">

                <com.google.android.material.imageview.ShapeableImageView
                    android:id="@+id/ivPhoto"
                    android:layout_width="120dp"
                    android:layout_height="120dp"
                    android:src="@drawable/ic_person_placeholder"
                    android:scaleType="centerCrop"
                    app:shapeAppearanceOverlay="@style/ShapeAppearanceOverlay.App.CornerSize50Percent"/>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnSelectPhoto"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Choisir une photo"
                    android:layout_marginTop="8dp"
                    style="@style/Widget.Material3.Button.TextButton"/>

            </LinearLayout>
        </com.google.android.material.card.MaterialCardView>

        <!-- Section Informations Civiles -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Informations Civiles"
            android:textSize="16sp"
            android:textStyle="bold"
            android:layout_marginBottom="8dp"/>

        <!-- PPR -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilPpr"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etPpr"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="PPR *"
                android:inputType="number"
                android:maxLength="8"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- CIN -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilCin"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etCin"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="CIN *"
                android:inputType="text"
                android:maxLength="10"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Nom en Français -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilNomFr"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etNomFr"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Nom (Français) *"
                android:inputType="textCapWords"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Prénom en Français -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilPrenomFr"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etPrenomFr"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Prénom (Français) *"
                android:inputType="textCapWords"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Nom en Arabe -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilNomAr"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etNomAr"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="الاسم العائلي (بالعربية)"
                android:inputType="text"
                android:imeOptions="actionNext"
                android:textDirection="anyRtl"
                android:gravity="start|top"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Prénom en Arabe -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilPrenomAr"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etPrenomAr"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="الاسم الشخصي (بالعربية)"
                android:inputType="text"
                android:imeOptions="actionNext"
                android:textDirection="anyRtl"
                android:gravity="start|top"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Sexe -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilSexe"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox.ExposedDropdownMenu">

            <AutoCompleteTextView
                android:id="@+id/actvSexe"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Sexe *"
                android:inputType="none"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Date de naissance -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilDateNaissance"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            app:endIconMode="custom"
            app:endIconDrawable="@drawable/ic_calendar"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etDateNaissance"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Date de naissance * (YYYY-MM-DD)"
                android:inputType="date"
                android:imeOptions="actionNext"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Lieu de naissance -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilLieuNaissance"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etLieuNaissance"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Lieu de naissance *"
                android:inputType="textCapWords"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Email -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilEmail"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etEmail"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Email *"
                android:inputType="textEmailAddress"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Téléphone -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilTelephone"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etTelephone"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Téléphone *"
                android:inputType="phone"
                android:maxLength="10"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Adresse -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilAdresse"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="16dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etAdresse"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Adresse complète *"
                android:inputType="textMultiLine"
                android:minLines="2"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Section Informations Professionnelles -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Informations Professionnelles"
            android:textSize="16sp"
            android:textStyle="bold"
            android:layout_marginBottom="8dp"/>

        <!-- Type d'employé -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilTypeEmploye"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox.ExposedDropdownMenu">

            <AutoCompleteTextView
                android:id="@+id/actvTypeEmploye"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Type d'employé *"
                android:inputType="none"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Date recrutement Ministère -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilDateRecrutementMinistere"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etDateRecrutementMinistere"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Date recrutement Ministère * (YYYY-MM-DD)"
                android:inputType="date"
                android:imeOptions="actionNext"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Date recrutement ENSA -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilDateRecrutementENSA"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etDateRecrutementENSA"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Date recrutement ENSA * (YYYY-MM-DD)"
                android:inputType="date"
                android:imeOptions="actionNext"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Grade -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilGrade"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox.ExposedDropdownMenu">

            <AutoCompleteTextView
                android:id="@+id/actvGrade"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Grade actuel *"
                android:inputType="none"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Échelle -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilEchelle"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etEchelle"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Échelle actuelle *"
                android:inputType="number"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Échelon -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilEchelon"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etEchelon"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Échelon actuel *"
                android:inputType="number"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Solde de congés -->
        <com.google.android.material.textfield.TextInputLayout
            android:id="@+id/tilSoldeConges"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="12dp"
            app:startIconDrawable="@drawable/ic_person"
            style="@style/Widget.Material3.TextInputLayout.OutlinedBox">

            <com.google.android.material.textfield.TextInputEditText
                android:id="@+id/etSoldeConges"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Solde de congés (jours)"
                android:inputType="number"
                android:text="30"/>
        </com.google.android.material.textfield.TextInputLayout>

        <!-- Statut actif/inactif -->
        <com.google.android.material.switchmaterial.SwitchMaterial
            android:id="@+id/switchActif"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Personnel actif"
            android:checked="true"
            android:layout_marginBottom="24dp"/>

        <!-- Boutons d'action -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center">

            <com.google.android.material.button.MaterialButton
                android:id="@+id/btnCancel"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Annuler"
                android:layout_marginEnd="8dp"
                style="@style/Widget.Material3.Button.OutlinedButton"/>

            <com.google.android.material.button.MaterialButton
                android:id="@+id/btnSave"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Enregistrer"
                android:layout_marginStart="8dp"/>

        </LinearLayout>

        <!-- ProgressBar -->
        <ProgressBar
            android:id="@+id/progressBar"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:layout_marginTop="16dp"
            android:visibility="gone"/>

    </LinearLayout>
</ScrollView>
